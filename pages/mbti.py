import streamlit as st

# 페이지 설정 (제목, 아이콘 등)
st.set_page_config(
    page_title="MBTI 진로 & 도서 추천",
    page_icon="🧭",
    layout="centered"
)

# MBTI 데이터 (진로 2개, 추천 도서 1권, 간단한 설명)
mbti_data = {
    "ISTJ": {
        "jobs": ["회계사/재무 관리자", "공무원/행정가"],
        "book": "아주 작은 습관의 힘 (제임스 클리어)",
        "desc": "사실을 중시하고 체계적인 당신에게는 규칙과 정확성이 중요한 일이 어울립니다."
    },
    "ISFJ": {
        "jobs": ["간호사/의료 종사자", "초등학교 교사"],
        "book": "기분이 태도가 되지 않게 (레몬심리)",
        "desc": "성실하고 온화하며 협조적인 당신은 타인을 돕고 세심함을 발휘하는 일이 좋습니다."
    },
    "INFJ": {
        "jobs": ["심리 상담가", "작가/콘텐츠 기획자"],
        "book": "죽음의 수용소에서 (빅터 프랭클)",
        "desc": "사람에 대한 통찰력이 뛰어나고 의미를 추구하는 당신은 영감을 주는 일이 어울립니다."
    },
    "INTJ": {
        "jobs": ["데이터 분석가/과학자", "경영 컨설턴트/전략가"],
        "book": "생각에 관한 생각 (대니얼 카너먼)",
        "desc": "분석적이고 전략적인 사고를 가진 당신은 복잡한 문제를 해결하는 일이 적합합니다."
    },
    "ISTP": {
        "jobs": ["소프트웨어 개발자/엔지니어", "파일럿/항공 정비사"],
        "book": "노인과 바다 (어니스트 헤밍웨이)",
        "desc": "논리적이고 뛰어난 상황 적응력을 가진 당신은 도구나 기술을 다루는 일이 좋습니다."
    },
    "ISFP": {
        "jobs": ["그래픽 디자이너/아티스트", "패션 MD/스타일리스트"],
        "book": "달러구트 꿈 백화점 (이미예)",
        "desc": "따뜻한 감성과 예술적 기질을 가진 당신은 자유롭게 자신을 표현하는 일이 어울립니다."
    },
    "INFP": {
        "jobs": ["일러스트레이터/예술가", "편집자/카피라이터"],
        "book": "인간 실격 (다자이 오사무)",
        "desc": "자신의 가치관과 이상을 중시하는 당신은 창의적이고 의미 있는 일이 적합합니다."
    },
    "INTP": {
        "jobs": ["프로그래머/시스템 설계자", "철학자/교수"],
        "book": "코스모스 (칼 세이건)",
        "desc": "지적 호기심이 많고 비판적인 당신은 논리와 아이디어로 승부하는 일이 좋습니다."
    },
    "ESTP": {
        "jobs": ["영업 전문가/마케터", "소방관/구급대원"],
        "book": "부의 추월차선 (엠제이 드마코)",
        "desc": "에너지가 넘치고 순발력이 뛰어난 당신은 활동적이고 즉각적인 결과가 나오는 일이 어울립니다."
    },
    "ESFP": {
        "jobs": ["이벤트 플래너/행사 기획", "승무원/여행 가이드"],
        "book": "나의 라임 오렌지나무 (J.M. 바스콘셀로스)",
        "desc": "사교적이고 낙천적인 당신은 사람들과 어울리며 즐거움을 주는 일이 적합합니다."
    },
    "ENFP": {
        "jobs": ["크리에이터/방송 PD", "홍보/마케팅 전문가"],
        "book": "어린 왕자 (앙투안 드 생텍쥐페리)",
        "desc": "열정적이고 상상력이 풍부한 당신은 창의성을 발휘하고 사람들과 소통하는 일이 좋습니다."
    },
    "ENTP": {
        "jobs": ["창업가/기업가", "정치인/변론가"],
        "book": "오리지널스 (애덤 그랜트)",
        "desc": "도전을 즐기고 다재다능한 당신은 새로운 아이디어를 실현하고 논쟁하는 일이 어울립니다."
    },
    "ESTJ": {
        "jobs": ["프로젝트 매니저(PM)", "변호사/판사"],
        "book": "그릿 (앤젤라 더크워스)",
        "desc": "현실적이고 추진력이 강한 당신은 조직을 이끌고 목표를 달성하는 일이 적합합니다."
    },
    "ESFJ": {
        "jobs": ["사회복지사", "인사 담당자(HR)"],
        "book": "미움받을 용기 (기시미 이치로)",
        "desc": "친절하고 책임감이 강한 당신은 사람들을 조화롭게 이끌고 돕는 일이 어울립니다."
    },
    "ENFJ": {
        "jobs": ["커리어 코치/멘토", "PR 전문가/대변인"],
        "book": "데일 카네기 인간관계론 (데일 카네기)",
        "desc": "카리스마와 공감 능력을 가진 당신은 사람들의 성장을 돕고 이끄는 일이 좋습니다."
    },
    "ENTJ": {
        "jobs": ["CEO/경영 임원", "투자 전문가/펀드 매니저"],
        "book": "군주론 (니콜로 마키아벨리)",
        "desc": "대담하고 통솔력이 있는 당신은 큰 그림을 그리고 조직을 지휘하는 일이 적합합니다."
    }
}

# --- UI 구성 ---

st.title("🧭 나에게 맞는 진로는?")
st.subheader("MBTI 유형별 진로 & 도서 추천")
st.write("---")

# 1. MBTI 선택
st.write("### 1. 당신의 MBTI를 선택해주세요 👇")
selected_mbti = st.selectbox(
    "MBTI 유형 선택",
    options=list(mbti_data.keys()),
    index=None,
    placeholder="MBTI를 선택하세요..."
)

# 2. 결과 출력
if selected_mbti:
    info = mbti_data[selected_mbti]
    
    st.write("---")
    st.markdown(f"## 🌟 {selected_mbti} 유형을 위한 추천")
    
    # 성향 설명
    st.info(f"💡 {info['desc']}")
    
    st.write("### 💼 추천 진로")
    col1, col2 = st.columns(2)
    
    with col1:
        st.success(f"1️⃣ {info['jobs'][0]}")
    with col2:
        st.success(f"2️⃣ {info['jobs'][1]}")
        
    st.write("### 📚 읽어보면 좋은 책")
    st.warning(f"📖 {info['book']}")
    
    st.write("")
    with st.expander("결과가 마음에 드시나요?"):
        st.write("이 추천은 일반적인 성향에 기반한 것입니다. 여러분의 가능성은 무한합니다! ✨")

else:
    st.write("")
    st.write("👆 위 박스를 눌러 MBTI를 선택하면 결과가 나타납니다.")
